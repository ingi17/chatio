(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,n,t){e.exports=t(39)},31:function(e,n,t){},32:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),o=t(17),i=t.n(o),c=t(7),s=t(5),u=t(20),l=(t(31),t(32),function(e){var n=e.users;return a.a.createElement("aside",{id:"sidebar",className:"sidebar"},a.a.createElement("ul",null,n.map(function(e){return a.a.createElement("li",{key:e.id},e.name)})))}),f=Object(c.b)(function(e){return{users:e.users}},{})(l),d=function(e){var n=e.message,t=e.author;return a.a.createElement("p",null,a.a.createElement("i",null,t),": ",n)},m=function(e){var n=e.messages;return a.a.createElement("section",{id:"messages-list"},a.a.createElement("ul",null,n.map(function(e){return a.a.createElement(d,Object.assign({key:e.id},e))})))},E=Object(c.b)(function(e){return{messages:e.messages}},{})(m),g=function(e){var n;return a.a.createElement("section",{id:"new-message"},a.a.createElement("input",{onKeyPress:function(t){"Enter"===t.key&&(e.dispatch(n.value,"Me"),n.value="")},type:"text",ref:function(e){n=e}}))},h=0,v=Object(c.b)(function(){return{}},function(e){return{dispatch:function(n,t){e(function(e,n){return{type:"ADD_MESSAGE",id:h++,message:e,author:n}}(n,t))}}})(g),w=function(){return a.a.createElement("div",{id:"container"},a.a.createElement(f,null),a.a.createElement("section",{id:"main"},a.a.createElement(E,null),a.a.createElement(v,null)))},p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_MESSAGE":case"MESSAGE_RECEIVED":return e.concat([{message:n.message,author:n.author,id:n.id}]);default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_USER":return e.concat([{name:n.name,id:n.id}]);case"USERS_LIST":return n.users;default:return e}},k=Object(s.c)({messages:b,users:y}),D=t(15),A=t.n(D),O=t(21),j=A.a.mark(function e(n){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)("ADD_MESSAGE",function(e){e.author=n.username,n.socket.send(JSON.stringify(e))});case 2:case"end":return e.stop()}},e)}),_=function(e,n){var t=new WebSocket("ws://localhost:8989");return t.onopen=function(){t.send(JSON.stringify({type:"ADD_USER",name:n}))},t.onmessage=function(n){var t,r,a=JSON.parse(n.data);switch(a.type){case"ADD_MESSAGE":e((t=a.message,r=a.author,{type:"MESSAGE_RECEIVED",id:h++,message:t,author:r}));break;case"USERS_LIST":e({type:"USERS_LIST",users:a.users})}},t},R=t(19),M=(new(t.n(R).a)).first(),G=Object(u.a)(),I=Object(s.e)(k,Object(s.a)(G)),N=_(I.dispatch,M);G.run(j,{socket:N,username:M}),i.a.render(a.a.createElement(c.a,{store:I},a.a.createElement(w,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");p?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):S(e)})}}()}},[[22,1,2]]]);
//# sourceMappingURL=main.e6bd3d7d.chunk.js.map